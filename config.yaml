# ProSense Configuration File
# All configurable parameters for the signal processing pipeline

# =============================================================================
# PATH CONFIGURATION
# =============================================================================
paths:
  # Base data directory (REPLACE WITH YOUR DATA PATH)
  data_root: "data/"

  # Input paths
  input:
    datasets: "${paths.data_root}/datasets/"
    logs: "${paths.data_root}/logs/"
    processed_logs: "${paths.data_root}/logs/ProcessedLogs/"
    user_mapping: "${paths.data_root}/user_mapping.csv"
    yoga_markers: "${paths.data_root}/yoga_markers.csv"

  # Output paths
  output:
    base: "${paths.data_root}/ProcessedData/"
    features: "${paths.output.base}/Features/"
    events: "${paths.output.base}/Events/"
    plots: "${paths.output.base}/Plots/"

  # File extensions
  extensions:
    data: ".pkl"
    plots: ".png"
    export: ".csv"

# =============================================================================
# EEG SIGNAL PROCESSING PARAMETERS
# =============================================================================
eeg:
  preprocessing:
    # Downsampling
    max_sampling_rate: 200  # Hz

    # Filtering
    notch_filter:
      frequency: 50  # Hz (50 for Europe, 60 for US/powerline noise)

    bandpass_filter:
      low_freq: 1.0   # Hz
      high_freq: 40.0 # Hz

    # Epoching
    epoch_duration: 5.0  # seconds

    # Artifact rejection
    rejection_threshold: 100e-6  # 100 ÂµV

    # Normality test
    normality_alpha: 0.05  # significance level

  feature_extraction:
    # Frequency bands (Hz)
    bands:
      delta: [0.5, 4]
      theta: [4, 8]
      alpha: [8, 13]
      low_beta: [13, 20]
      high_beta: [20, 30]
      gamma: [30, 45]

    # Epoch selection for visualization
    epochs_to_plot: [20, 21, 22, 23, 24, 25, 26, 27, 28, 29]

# =============================================================================
# PPG (PHOTOPLETHYSMOGRAPHY) PARAMETERS
# =============================================================================
ppg:
  preprocessing:
    sampling_rate: 64  # Hz

    bandpass_filter:
      low_freq: 0.5   # Hz
      high_freq: 8.0  # Hz
      order: 4

  feature_extraction:
    # Peak detection
    peak_detection:
      min_distance: 20  # samples
      prominence: 0.3   # relative height

    # Window for feature computation
    window_size: 60  # seconds

# =============================================================================
# ACC (ACCELEROMETER) PARAMETERS
# =============================================================================
acc:
  preprocessing:
    sampling_rate: 32  # Hz

    bandpass_filter:
      low_freq: 0.3   # Hz
      high_freq: 15.0 # Hz
      order: 4

  feature_extraction:
    window_size: 60  # seconds
    overlap: 30      # seconds

# =============================================================================
# GYRO (GYROSCOPE) PARAMETERS
# =============================================================================
gyro:
  preprocessing:
    sampling_rate: 32  # Hz

    bandpass_filter:
      low_freq: 0.3   # Hz
      high_freq: 15.0 # Hz
      order: 4

  feature_extraction:
    window_size: 60  # seconds
    overlap: 30      # seconds

# =============================================================================
# BVP (BLOOD VOLUME PULSE) PARAMETERS
# =============================================================================
bvp:
  preprocessing:
    sampling_rate: 64  # Hz

    bandpass_filter:
      low_freq: 0.5   # Hz
      high_freq: 8.0  # Hz
      order: 4

    # Peak detection
    peak_detection:
      min_distance: 20
      prominence: 0.3

  feature_extraction:
    window_size: 60  # seconds

# =============================================================================
# GSR (GALVANIC SKIN RESPONSE) PARAMETERS
# =============================================================================
gsr:
  preprocessing:
    sampling_rate: 4  # Hz

    lowpass_filter:
      cutoff_freq: 1.0  # Hz
      order: 4

  feature_extraction:
    window_size: 60  # seconds

    # Decomposition parameters
    decomposition:
      tonic_window: 10  # seconds
      phasic_threshold: 0.01

# =============================================================================
# TEMP (TEMPERATURE) PARAMETERS
# =============================================================================
temp:
  preprocessing:
    sampling_rate: 4  # Hz

    # Smoothing
    smoothing:
      window_size: 5  # samples

  feature_extraction:
    window_size: 60  # seconds

# =============================================================================
# VISUALIZATION SETTINGS
# =============================================================================
visualization:
  # Figure settings
  figure:
    dpi: 100
    figsize: [12, 8]
    format: "png"

  # Plot style
  style:
    theme: "seaborn-v0_8"
    color_palette: "husl"
    font_size: 10

  # Save options
  save:
    bbox_inches: "tight"
    transparent: false

# =============================================================================
# DATA LOADING SETTINGS
# =============================================================================
data_loading:
  # File patterns
  patterns:
    eeg: "*_eeg.pkl"
    ppg: "*_ppg.pkl"
    acc: "*_acc.pkl"
    gyro: "*_gyro.pkl"
    bvp: "*_bvp.pkl"
    gsr: "*_gsr.pkl"
    temp: "*_temp.pkl"

  # Validation
  validation:
    check_timestamps: true
    check_missing_data: true
    max_gap_seconds: 5.0

# =============================================================================
# FEATURE EXTRACTION GLOBAL SETTINGS
# =============================================================================
feature_extraction:
  # Common settings
  overlap_ratio: 0.5  # 50% overlap between windows

  # Statistical features to extract
  statistical_features:
    - mean
    - std
    - min
    - max
    - median
    - skewness
    - kurtosis

  # Frequency features to extract
  frequency_features:
    - dominant_frequency
    - spectral_entropy
    - power_spectral_density

# =============================================================================
# CORRELATION ANALYSIS SETTINGS
# =============================================================================
correlation:
  # Methods
  methods:
    - pearson
    - spearman

  # Significance level
  alpha: 0.05

  # Visualization
  heatmap:
    cmap: "coolwarm"
    annot: true
    fmt: ".2f"

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: "${paths.output.base}/prosense.log"

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================
performance:
  # Parallel processing
  n_jobs: -1  # -1 = use all available cores

  # Memory management
  chunk_size: 1000  # samples per chunk for large datasets

  # Caching
  cache_enabled: false
  cache_directory: "${paths.data_root}/.cache/"

# =============================================================================
# EXPERIMENT METADATA
# =============================================================================
experiment:
  name: "ProSense Study"
  version: "1.0.0"

  # Session configuration
  sessions:
    session_1:
      datasets: "${paths.input.datasets}"
      logs: "${paths.input.logs}"

  # Modalities enabled
  enabled_modalities:
    - eeg
    - ppg
    - acc
    - gyro
    - bvp
    - gsr
    - temp
